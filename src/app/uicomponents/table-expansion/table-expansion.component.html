<mat-form-field class="colfilter" style="margin-left: 8px;">
  <mat-select #select multiple disableOptionCentering panelClass="matselhorzPanel">
  <mat-select-trigger>
  <mat-icon>filter_list</mat-icon>
  {{select.value ? select.value[0] : ''}}
  <span *ngIf="select.value?.length > 1" class="additional-selection">
  (+{{select.value.length - 1}} {{select.value?.length === 2 ? 'other' : 'others'}})
  </span>
  </mat-select-trigger>
  <mat-optgroup>
  <mat-checkbox [(ngModel)]="allSelected" [ngModelOptions]="{standalone: true}">
  Select All</mat-checkbox>
  </mat-optgroup>
  <mat-option color="primary"
  *ngFor="let cols of (gridSelectList || []); let fltIndex = index" [value]="cols.headerValue">
  {{ cols.header }}
  </mat-option>
  <mat-optgroup>
  <button class="select-submit" mat-basic-button color="primary" (click)="filterGridColumns()" matTooltip="Submit">
  <!-- <mat-icon>play_arrow</mat-icon> -->
  Submit
  </button>
  </mat-optgroup>
  </mat-select>
  </mat-form-field>
  <span ><b>No of selected rows : </b></span>
<table mat-table [dataSource]="transaction ? transaction : []" multiTemplateDataRows class="mat-elevation-z8">
  <ng-container *ngFor="let col of columnsToDisplay ; let colIndex = index" matColumnDef="{{col}}">
  <div *ngIf="col === 'select'">
  <th mat-header-cell *matHeaderCellDef>
  <mat-checkbox style="margin-right:20px;" (change)="$event ? masterToggle() : null"
  [checked]="selection.hasValue() && isAllSelected()"
  [indeterminate]="selection.hasValue() && !isAllSelected()">
  </mat-checkbox>
  </th>
  <td mat-cell *matCellDef="let row">
  <mat-checkbox style="margin-right:20px;" (click)="$event.stopPropagation()" (change)="selectRow($event,row)"
  (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
  </mat-checkbox>
  </td>
  </div>
  
  <ng-container *ngIf="col != 'Link'">
  <th mat-header-cell *matHeaderCellDef>{{col}}</th>
  <td mat-cell *matCellDef="let element">{{element[col]}}</td>
  </ng-container>
  <ng-container *ngIf="col === 'Link'">
  
  
  
  <th mat-header-cell *matHeaderCellDef>{{col}}</th>
  <td mat-cell *matCellDef="let element">
  <!-- <mat-icon style="cursor: pointer;"
  (click)="(expandedElement = expandedElement === element ? null : element);">{{expandedElement ===
  element ? 'remove_circle_outline' : 'add_circle_outline'}}</mat-icon> -->
  
  
  
  <mat-icon style="cursor: pointer;"
  (click)="(expandedElement = expandedElement === element ? null : element); (expandedElement === element ? setAddressDetails('transaction', element) : null); setStep(2) ">
  {{expandedElement === element && step === 2 ? 'remove_box_outline' : 'add_box_outline'}}</mat-icon>
  </td>
  
  
  
  </ng-container>
  </ng-container>
  
  
  
  <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
  <!-- <ng-container matColumnDef="expandedDetail" *ngIf="step === 2">
  <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
  <div class="example-element-detail" [@detailExpand]="(element == expandedElement && step === 2 ? 'expanded' : 'collapsed')">
  <div class="example-element-diagram">
  
  </div>
  </div>
  </td>
  </ng-container> -->
  
  
  
  <ng-container matColumnDef="expandedDetail">
  <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
  <div class="example-element-detail" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
  
  
  
  <app-table [tableitem]="element.Link" (addNewTab)="newTab($event)" ></app-table>
  
  
  
  </div>
  </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"
  [class.example-expanded-row]="expandedElement === element"></tr>
  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
  </table>

<mat-paginator class="mat-paginator-sticky" [pageSizeOptions]="[100, 500, 1000]" showFirstLastButtons>
</mat-paginator>

<!-- <div class="test-wrapper"> -->
  <div style="margin-bottom:10px" >
  <button type="reset" mat-raised-button color="primary" matTooltip="Export">
    <mat-icon>import_export</mat-icon>Export
  </button>&nbsp;&nbsp;
  <button type="reset" mat-raised-button color="primary" matTooltip="Clipboard">
    <mat-icon>file_copy</mat-icon> Copy To Clipboard
  </button>
  
  <span *ngIf="isEmailRequired">
  <button type="reset" mat-raised-button color="primary" matTooltip="Export to email">
    <mat-icon>email</mat-icon> Export to email
  </button>
  </span>  
</div>

<mat-divider></mat-divider>